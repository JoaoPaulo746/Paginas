<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portf√≥lio - Jo√£o Paulo</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
    /* Parallax suave no container */
.container {
    transition: transform 0.2s ease-out;
}

/* Cursor glow */
.cursor-trail {
    position: fixed;
    width: 8px;
    height: 8px;
    background: #ffcc00;
    border-radius: 50%;
    pointer-events: none;
    box-shadow: 0 0 15px #ffcc00, 0 0 30px #ffcc00;
    z-index: 9999;
    opacity: 0.8;
    animation: fadeOut 0.6s forwards;
}

@keyframes fadeOut {
    to {
        opacity: 0;
        transform: scale(0.5);
    }
}

body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background: #000;
    color: #fff;
    overflow-x: hidden;
}

canvas#stars {
    position: fixed;
    top: 0;
    left: 0;
    z-index: -1;
}

.container {
    width: 90%;
    max-width: 1200px;
    margin: 60px auto;
    background: rgba(20,20,20,0.95);
    padding: 40px;
    border-radius: 15px;
    box-shadow: 0 0 40px rgba(255,204,0,0.2);
}

h1 {
    text-align: center;
    color: #ffcc00;
}

.controls {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    justify-content: center;
    margin-bottom: 30px;
}

select, input {
    padding: 10px;
    border-radius: 6px;
    border: none;
    font-size: 1rem;
}

.category {
    margin-top: 40px;
}

.category h2 {
    color: #ffcc00;
}

.projects {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.project-card {
    background: #111;
    padding: 20px;
    border-radius: 10px;
    transition: 0.4s;
    opacity: 0;
    transform: translateY(20px);
    animation: fadeIn 0.6s forwards;
}

.project-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 0 20px rgba(255,204,0,0.5);
}

@keyframes fadeIn {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.project-card h3 {
    color: #ffcc00;
}

.project-card a {
    color: #ffcc00;
    text-decoration: none;
}

.dashboard {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
    margin-top: 50px;
    align-items: center;
}

.dashboard-chart {
    background: #111;
    padding: 20px;
    border-radius: 12px;
    height: 260px;
}

.dashboard-chart canvas {
    max-height: 200px;
}

.dashboard-stats {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.stat-box {
    background: #111;
    padding: 20px;
    border-radius: 12px;
    text-align: center;
    transition: 0.3s;
}

.stat-box:hover {
    transform: translateY(-5px);
    box-shadow: 0 0 15px rgba(255,204,0,0.4);
}

.stat-box h3 {
    margin: 0;
    font-size: 1.8rem;
    color: #ffcc00;
}

.stat-box p {
    margin: 5px 0 0;
    font-size: 0.9rem;
    opacity: 0.8;
}

@media (max-width: 768px) {
    .dashboard {
        grid-template-columns: 1fr;
    }
}
</style>
</head>

<body>

<canvas id="stars"></canvas>

<div class="container">
<h1> Portf√≥lio - Jo√£o Paulo</h1>

<div class="controls">
<select id="languageFilter">
<option value="all">Todas Linguagens</option>
</select>

<input type="text" id="searchInput" placeholder="Buscar projeto...">
</div>

<div id="categories-container"></div>

<div class="dashboard">
    <div class="dashboard-chart">
        <h2>üìä Linguagens</h2>
        <canvas id="languageChart"></canvas>
    </div>

    <div class="dashboard-stats">
        <div class="stat-box">
            <h3 id="totalRepos">0</h3>
            <p>Reposit√≥rios</p>
        </div>

        <div class="stat-box">
            <h3 id="topLanguage">-</h3>
            <p>Linguagem Principal</p>
        </div>

        <div class="stat-box">
            <h3 id="totalStars">0</h3>
            <p>Total de Stars</p>
        </div>
    </div>
</div>

<script> 
const username = "JoaoPaulo746";

    card.innerHTML = `
    <h3>${repo.name}</h3>
    <p>${repo.description || "Sem descri√ß√£o."}</p>
    <p>‚≠ê ${repo.stargazers_count} | üç¥ ${repo.forks_count}</p>
    <p>üìÖ ${updatedDate}</p>
    <a href="${pagesUrl}" target="_blank">
        Abrir Projeto
    </a>
`;
    
let allRepos = [];

async function fetchRepos() {
    const response = await fetch(`https://api.github.com/users/${username}/repos?sort=updated&per_page=100`);
    const repos = await response.json();
    allRepos = repos.filter(r => !r.fork);
    populateFilter();
    renderProjects();
    createChart();
}

function populateFilter() {
    const languages = new Set(allRepos.map(r => r.language || "Outros"));
    const filter = document.getElementById("languageFilter");

    languages.forEach(lang => {
        const option = document.createElement("option");
        option.value = lang;
        option.textContent = lang;
        filter.appendChild(option);
    });
}

function renderProjects() {
    const container = document.getElementById("categories-container");
    container.innerHTML = "";

    const selectedLang = document.getElementById("languageFilter").value;
    const searchText = document.getElementById("searchInput").value.toLowerCase();

    const filtered = allRepos.filter(repo => {
        const matchesLang = selectedLang === "all" || (repo.language || "Outros") === selectedLang;
        const matchesSearch = repo.name.toLowerCase().includes(searchText);
        return matchesLang && matchesSearch;
    });

    const categories = {};
    filtered.forEach(repo => {
        const lang = repo.language || "Outros";
        if (!categories[lang]) categories[lang] = [];
        categories[lang].push(repo);
    });

    const fragment = document.createDocumentFragment();

    for (const lang in categories) {
        const section = document.createElement("div");
        section.classList.add("category");

        const title = document.createElement("h2");
        title.textContent = `üåå ${lang}`;

        const grid = document.createElement("div");
        grid.classList.add("projects");

        categories[lang].forEach(repo => {
            const card = document.createElement("div");
            card.classList.add("project-card");

            const updatedDate = new Date(repo.updated_at).toLocaleDateString("pt-BR");

            card.innerHTML = `
                <h3>${repo.name}</h3>
                <p>${repo.description || "Sem descri√ß√£o."}</p>
                <p>‚≠ê ${repo.stargazers_count} | üç¥ ${repo.forks_count}</p>
                <p>üìÖ ${updatedDate}</p>
                <a href="${repo.html_url}" target="_blank">Ver no GitHub</a>
            `;

            grid.appendChild(card);
        });

        section.appendChild(title);
        section.appendChild(grid);
        fragment.appendChild(section);
    }

    container.appendChild(fragment);
}

document.getElementById("languageFilter").addEventListener("change", renderProjects);
document.getElementById("searchInput").addEventListener("input", renderProjects);

function createChart() {
    const langCount = {};
    let totalStars = 0;

    allRepos.forEach(repo => {
        const lang = repo.language || "Outros";
        langCount[lang] = (langCount[lang] || 0) + 1;
        totalStars += repo.stargazers_count;
    });

    const sortedLangs = Object.entries(langCount)
        .sort((a, b) => b[1] - a[1]);

    const topLanguage = sortedLangs.length > 0 ? sortedLangs[0][0] : "-";

    document.getElementById("totalRepos").textContent = allRepos.length;
    document.getElementById("topLanguage").textContent = topLanguage;
    document.getElementById("totalStars").textContent = totalStars;

    new Chart(document.getElementById("languageChart"), {
        type: "doughnut",
        data: {
            labels: Object.keys(langCount),
            datasets: [{
                data: Object.values(langCount)
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            animation: {
                duration: 800
            },
            plugins: {
                legend: {
                    labels: {
                        color: "#fff"
                    }
                }
            }
        }
    });
}

fetchRepos();

/* ‚≠ê CANVAS OTIMIZADO */
const canvas = document.getElementById("stars");
const ctx = canvas.getContext("2d");

function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

const STAR_COUNT = window.innerWidth < 768 ? 60 : 90;
const CONNECTION_DISTANCE = 90;

let stars = Array.from({ length: STAR_COUNT }, () => ({
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    radius: Math.random() * 1.3
}));

let mouseX = canvas.width / 2;
let mouseY = canvas.height / 2;

document.addEventListener("mousemove", e => {
    mouseX = e.clientX;
    mouseY = e.clientY;

    const offsetX = (canvas.width / 2 - mouseX) / 50;
    const offsetY = (canvas.height / 2 - mouseY) / 50;

    document.querySelector(".container").style.transform =
        `translate(${offsetX}px, ${offsetY}px)`;
});

function animateStars() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    const parallaxStrength = 0.015;

    stars.forEach((s, i) => {
        const x = s.x + (mouseX - canvas.width / 2) * parallaxStrength;
        const y = s.y + (mouseY - canvas.height / 2) * parallaxStrength;

        ctx.beginPath();
        ctx.arc(x, y, s.radius, 0, Math.PI * 2);
        ctx.fillStyle = "white";
        ctx.fill();

        // Limita conex√µes por estrela
        for (let j = i + 1; j < i + 6 && j < stars.length; j++) {
            const dx = s.x - stars[j].x;
            const dy = s.y - stars[j].y;
            const dist = dx * dx + dy * dy;

            if (dist < CONNECTION_DISTANCE * CONNECTION_DISTANCE) {
                ctx.strokeStyle = "rgba(255,255,255,0.06)";
                ctx.beginPath();
                ctx.moveTo(s.x, s.y);
                ctx.lineTo(stars[j].x, stars[j].y);
                ctx.stroke();
            }
        }
    });

    requestAnimationFrame(animateStars);
}
animateStars();

/* ‚ú® CURSOR OTIMIZADO */
let trailElements = [];
const MAX_TRAIL = 12;

document.addEventListener("mousemove", e => {
    const trail = document.createElement("div");
    trail.className = "cursor-trail";
    trail.style.left = e.clientX + "px";
    trail.style.top = e.clientY + "px";
    document.body.appendChild(trail);

    trailElements.push(trail);

    if (trailElements.length > MAX_TRAIL) {
        const old = trailElements.shift();
        old.remove();
    }

    setTimeout(() => trail.remove(), 400);
});

</script>

</body>
</html>




